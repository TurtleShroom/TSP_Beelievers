<?xml version="1.0" encoding="utf-8" ?>

<Patch>
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="ApiniHoney"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<xpath>/Defs</xpath>
			<success>Always</success>
			<value>
				<!-- Slaver Branch -->
				<!-- TIER II -->
				<!-- Apini Slaver Bees: kidnaps Apini larvae, makes Apini Honey -->
				<RimBees.BeeListDef>
					<defName>TSP_RB_Beeliever_SlaverBee1_Apini</defName>
					<nameString>Apini</nameString>
					<beeDroneDef>RB_Bee_Apini_Drone</beeDroneDef>
					<beeQueenDef>RB_Bee_Apini_Queen</beeQueenDef>
					<!--
					<beeQueenTag>RB_Bee_Slaver_Queen_Tag</beeQueenTag>
					<beeDroneTag>RB_Bee_Slaver_Drone_Tag</beeDroneTag>
					-->
				</RimBees.BeeListDef>
				
				<!--
				<RimBees.BeeCombinationDef>
					<defName>TSP_RB_Beelievers_SlaverTables_Apini</defName>
					<bee1>Slaver</bee1>
					<bee2>Adaptive</bee2>
					<result>
						<li>Apini</li>
					</result>				
				</RimBees.BeeCombinationDef>
				-->
			
				<ThingDef ParentName="TSP_RB_Beeliever_SlaverBase" Name="TSP_RB_Beeliever_ApiniBase" Abstract="True">
					<!-- <label>Apini Slave-Making Bee</label> -->
					<description>On Old Earth, living beings' ownership of other living beings as chattel did not stop with men owning animals, or even men owning men. Animals are capable of it too! There exists a rare adaption among insects where they will capture animals of other species and compel them to work for them. This is called "dulosis," literally "slave-making," and is a form of facultative, social, brood parasitism. It occurs most commonly among the slave-making ants, of which dozens of species exist. However, dulosis has also beeen recorded in bees. \n \n These slave-making bees exclusively target the larvae of Apini Bees and feed on the Apini Honey of those bees. \n\n\n\n\n Bee Traits: \n\n 	Production time: 1.1 days \n 	Works at Night: Yes \n 	Works When Raining: Yes \n 	Unusual sources needed: No \n 	Minimum Temperature: 0ºF (-17.7778ºC) \n 	Maximum temperature: 97ºF (36.1111ºC)</description>
					<!--
					<graphicData Inherit="False">
						<texPath>Things/Pawn/Animal/Bug_Types/Bee/ST_Bee_south</texPath>
						<graphicClass>Graphic_Single</graphicClass>
					</graphicData>
					-->
					<comps>			
						<li Class="RimBees.CompProperties_Bees" Inherit="False">
							<species>Apini</species>
							<comb>TSP_RB_Beeliever_SlaveryOfApini_Honeycomb</comb>
							<combtimedays>1.1</combtimedays>
							<nocturnal>true</nocturnal> <!-- Works at night -->
							<pluviophile>true</pluviophile> <!-- Works in the rain -->
							<weirdplantneeded>no</weirdplantneeded>
							<tempMin>-17.778</tempMin> <!-- Zero degrees -->
							<tempMax>36.1111</tempMax> <!-- Ninety-seven degrees -->
						</li>   
					</comps>
				</ThingDef>
				
				<ThingDef ParentName="TSP_RB_Beeliever_ApiniBase">
					<defName>RB_Bee_Apini_Queen</defName>
					<label>Apini Slaver queen</label>
					<descriptionHyperlinks>
						<!-- <ThingDef>RB_Bee_Apini_Queen</ThingDef> -->
						<ThingDef>RB_Bee_Apini_Drone</ThingDef>
						<ThingDef>TSP_RB_Beeliever_SlaveryOfApini_Honeycomb</ThingDef>
						<RecipeDef>TSP_RB_Beeliever_Centrifuge_SlaveryOfApini_Honeycomb</RecipeDef>
						<!--
						<ThingDef>TSP_ST_RB_WildHive_Gnome</ThingDef>
						<RecipeDef>TSP_ST_RB_Gneehive_Extract</RecipeDef>
						-->
						<ThingDef MayRequire="tsp.zal.patchhoney2">TSP_LaymanHoneyMachine</ThingDef>
					</descriptionHyperlinks>
					<graphicData Inherit="False">
						<texPath>Things/Pawn/Animal/Bug_Types/Bee/SlaverBranch/TSP_Bee_Dahomey_Apini_Queen</texPath>
						<graphicClass>Graphic_Single</graphicClass>
					</graphicData> 		
				</ThingDef>
				
				<ThingDef ParentName="TSP_RB_Beeliever_ApiniBase">
					<defName>RB_Bee_Apini_Drone</defName>
					<label>Apini Slaver drone</label>
					<descriptionHyperlinks>
						<ThingDef>RB_Bee_Apini_Queen</ThingDef>
						<!-- <ThingDef>RB_Bee_Apini_Drone</ThingDef> -->
						<ThingDef>TSP_RB_Beeliever_SlaveryOfApini_Honeycomb</ThingDef>
						<RecipeDef>TSP_RB_Beeliever_Centrifuge_SlaveryOfApini_Honeycomb</RecipeDef>
						<!--
						<ThingDef>TSP_ST_RB_WildHive_Gnome</ThingDef>
						<RecipeDef>TSP_ST_RB_Gneehive_Extract</RecipeDef>
						-->
						<ThingDef MayRequire="tsp.zal.patchhoney2">TSP_LaymanHoneyMachine</ThingDef>
					</descriptionHyperlinks>
					<graphicData Inherit="False">
						<texPath>Things/Pawn/Animal/Bug_Types/Bee/SlaverBranch/TSP_Bee_Dahomey_Apini_Drone</texPath>
						<graphicClass>Graphic_Single</graphicClass>
					</graphicData> 		
				</ThingDef>
				
				<ThingDef ParentName="RB_CombBase">
					<defName>TSP_RB_Beeliever_SlaveryOfApini_Honeycomb</defName>
					<label>Apini Slaver Bee honeycomb</label>
					<description>Slaver Bees are facultative, social, brood parasites that abduct larvae and use them to produce beeswax and honey. Instead of expending effort to feed, house, and construct for new members of the colony, Slaver Bee drones drive the slave species and kidnap new larvae, while the Slaver Queen produces new Slaver Bee drones to continue the cycle, all while she gets fat from her doting chattel. \n \ Apini Slaver Bees parasitize the special Miscellaneous Bee breed's larvae to consume their honey. Reap the harvest of slave labor and enjoy large amounts of Apini Honey, pollen, and ordinary Beeswax.</description>
					<descriptionHyperlinks>
						<!-- <ResearchProjectDef>ST_GnomeCulture</ResearchProjectDef> -->
						<ThingDef>RB_Bee_Apini_Queen</ThingDef>
						<ThingDef>RB_Bee_Apini_Drone</ThingDef>
						<!-- <ThingDef>TSP_RB_Beeliever_SlaveryOfApini_Honeycomb</ThingDef> -->
						<RecipeDef>TSP_RB_Beeliever_Centrifuge_SlaveryOfApini_Honeycomb</RecipeDef>
						<!--
						<ThingDef>TSP_ST_GnomeHoney</ThingDef>
						<ThingDef>TSP_ST_RB_WildHive_Gnome</ThingDef>
						<RecipeDef>TSP_ST_RB_Gneehive_Extract</RecipeDef>
						-->
						<ThingDef>ApiniHoney</ThingDef>
						<ThingDef>RB_Beeswax</ThingDef>
						<ThingDef MayRequire="tsp.zal.patchhoney2">TSP_LaymanHoneyMachine</ThingDef>
					</descriptionHyperlinks>
					<graphicData Inherit="False">
						<texPath>Things/Pawn/Animal/Bug_Types/Bee/Honeycombs/TSP_RB_SlaverBee_Honeycomb</texPath>
						<graphicClass>Graphic_Single</graphicClass>
						<color>(255,135,0)</color>
					</graphicData>
					<thingCategories>
						<li>TSP_RB_Beeliever_Honeycombs</li>
					</thingCategories>
					<butcherProducts>
						<ApiniHoney>4</ApiniHoney>
						<RB_Beeswax>12</RB_Beeswax>
						<ApiniPollenBall>1</ApiniPollenBall>
						<ApiniPollen>13</ApiniPollen>
					</butcherProducts>
				</ThingDef>
				
				<RecipeDef>
					<defName>TSP_RB_Beeliever_Centrifuge_SlaveryOfApini_Honeycomb</defName>
					<label>extract from Apini Slave-Making Bee honeycomb</label>
					<description>Extracts Apini Honey and ordianary Beeswax from an Apini Slaver Bee honeycomb. Apini Slaver Bees parasitize Apini larvae to consume their honey. What's wrong with exploiting exploiters, after all?</description>
					<descriptionHyperlinks>
						<!-- <ResearchProjectDef>ST_GnomeCulture</ResearchProjectDef> -->
						<ThingDef>RB_Bee_Apini_Queen</ThingDef>
						<ThingDef>RB_Bee_Apini_Drone</ThingDef>
						<ThingDef>TSP_RB_Beeliever_SlaveryOfApini_Honeycomb</ThingDef>
						<ThingDef>ApiniHoney</ThingDef>
						<ThingDef>RB_Beeswax</ThingDef>
						<!-- <RecipeDef>TSP_RB_Beeliever_Centrifuge_SlaveryOfApini_Honeycomb</RecipeDef> -->
						<!--
						<ThingDef>TSP_ST_GnomeHoney</ThingDef>
						<ThingDef>TSP_ST_RB_WildHive_Gnome</ThingDef>
						<RecipeDef>TSP_ST_RB_Gneehive_Extract</RecipeDef>
						-->
						<ThingDef MayRequire="tsp.zal.patchhoney2">TSP_LaymanHoneyMachine</ThingDef>
					</descriptionHyperlinks>
					<uiIconThing>ApiniHoney</uiIconThing>
					<jobString>Taking advantage of slave labor.</jobString>
					<effectWorking>Cremate</effectWorking>
					<soundWorking>Recipe_Cremate</soundWorking>
					<workAmount>900</workAmount>
					<recipeUsers>
						<li>RB_Honey_Centrifuge</li>
						<li>RB_Advanced_Honey_Centrifuge</li>
						<li MayRequire="tsp.zal.patchhoney2">TSP_LaymanHoneyMachine</li>
					</recipeUsers>	
					<ingredients>
						<li>
							<filter>
								<thingDefs>
									<li>TSP_RB_Beeliever_SlaveryOfApini_Honeycomb</li>
								</thingDefs>
							</filter>
							<count>1</count>
						</li>
					</ingredients>
					<fixedIngredientFilter>
						<thingDefs>
							<li>TSP_RB_Beeliever_SlaveryOfApini_Honeycomb</li>
						</thingDefs>
					</fixedIngredientFilter>
					<specialProducts>
						<li>Butchery</li>
					</specialProducts>
					<skillRequirements></skillRequirements>
					<researchPrerequisites>
						<li>RB_BasicBeekeeping</li>
					</researchPrerequisites>
				</RecipeDef>
			</value>
		</match>
	</Operation>
</Patch>